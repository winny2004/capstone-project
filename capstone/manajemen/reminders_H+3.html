<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PITCAR Dashboard Reminder H+3</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Poppins", sans-serif;
      }

      body {
        background-color: #f5f6fa;
        display: flex;
        height: 100vh;
        overflow: hidden;
      }
      /* Sidebar */

      .sidebar {
        width: 80px;
        background-color: #fff;
        border-right: 1px solid #e6e6e6;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        transition: width 0.3s ease;
        overflow: hidden;
        position: relative;
      }

      .sidebar:hover {
        width: 240px;
      }

      .sidebar .logo {
        text-align: center;
        padding: 20px 0;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .sidebar .logo .full-logo {
        width: 150px;
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .sidebar .logo .small-logo {
        width: 24px;
        height: 24px;
        opacity: 1;
        transition: opacity 0.3s ease;
        position: absolute;
      }

      .sidebar:hover .logo .full-logo {
        opacity: 1;
      }

      .sidebar:hover .logo .small-logo {
        opacity: 0;
      }

      .menu li span {
        opacity: 0;
        transition: opacity 0.3s ease;
        white-space: nowrap;
      }

      .sidebar:hover .menu li span {
        opacity: 1;
      }

      .sidebar .user-section .user-info {
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .sidebar:hover .user-section .user-info {
        opacity: 1;
      }

      .menu {
        flex: 1;
        padding: 10px 0;
      }

      .menu ul {
        list-style: none;
      }

      .menu li {
        padding: 12px 24px;
        font-size: 15px;
        display: flex;
        align-items: center;
        color: #333;
        cursor: pointer;
        transition: 0.3s;
      }

      .menu li:hover,
      .menu li.active {
        background-color: #fbeaea;
        color: #c20000;
        font-weight: 600;
      }

      .menu li i {
        margin-right: 10px;
        font-size: 24px;
      }

      .menu li i {
        margin-right: 10px;
        font-size: 24px;
      }

      .menu li img {
        width: 24px;
        height: 24px;
        margin-right: 10px;
        object-fit: contain;
      }

      .user-section {
        padding: 15px 24px;
        border-top: 1px solid #eee;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .user-section img {
        width: 35px;
        height: 35px;
        border-radius: 50%;
      }

      .user-section .user-info {
        font-size: 13px;
      }

      .user-section .user-info .name {
        font-weight: 600;
      }
      /* Main content */

      .main {
        flex: 1;
        padding: 25px 35px;
        overflow-y: auto;
      }

      .header h2 {
        font-size: 20px;
        font-weight: 700;
      }

      .subtext {
        color: #666;
        font-size: 14px;
        margin-top: 3px;
      }
      /* Stats cards */

      .stats {
        display: flex;
        gap: 15px;
        margin-top: 20px;
      }

      .card {
        background: #fff;
        flex: 1;
        border-radius: 8px;
        padding: 15px 20px;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      }

      .card h3 {
        font-size: 14px;
        color: #666;
      }

      .card p {
        font-size: 20px;
        font-weight: 600;
        margin-top: 6px;
      }
      /* Follow Up Section Header */

      .followup-header {
        background: #fff;
        margin-top: 20px;
        padding: 15px 20px 10px 20px;
        border-radius: 8px 8px 0 0;
        font-size: 16px;
        font-weight: 600;
        color: #333;
        border-bottom: 2px solid #e6e6e6;
      }
      /* Follow Up Section */

      .followup {
        background: #fff;
        padding: 15px 20px;
        border-radius: 0 0 8px 8px;
        font-size: 14px;
        color: #555;
        text-align: center;
        margin-top: 0;
      }
      /* Table Section */

      .table-section {
        background: #fff;
        margin-top: 20px;
        padding: 15px 20px;
        border-radius: 8px;
        display: flex;
        flex-direction: column;
      }

      .table-section h3 {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 15px;
      }

      .filters {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-bottom: 10px;
        align-items: end;
      }

      .custom-date-range {
        display: none;
        gap: 10px;
      }

      .filter-group {
        display: flex;
        flex-direction: column;
      }

      .filter-group label {
        font-size: 12px;
        color: #666;
        margin-bottom: 4px;
        font-weight: 500;
      }

      .filters select,
      .filters input {
        padding: 6px 8px;
        font-size: 14px;
        border-radius: 6px;
        border: 1px solid #ccc;
      }

      .table-container {
        max-height: 420px;
        overflow-y: scroll;
        border-top: 1px solid #eee;
      }

      table {
        width: 100%;
        border-collapse: collapse;
      }

      th,
      td {
        padding: 10px 8px;
        border-bottom: 1px solid #eee;
        text-align: left;
        font-size: 13px;
      }

      th {
        color: #555;
        background-color: #fafafa;
        font-weight: 600;
      }
      /* Status badge styling */

      .status-badge {
        background-color: #f5f5f5;
        padding: 4px 8px;
        border-radius: 4px;
        display: inline-block;
        text-align: center;
      }

      td a {
        color: #c20000;
        text-decoration: none;
        font-weight: 600;
        white-space: pre-line;
      }

      td a:hover {
        text-decoration: underline;
      }
      /* Pagination */

      .pagination {
        margin-top: 10px;
        display: flex;
        justify-content: flex-end;
        align-items: center;
        font-size: 13px;
        gap: 10px;
      }

      .pagination button {
        background: #fff;
        border: 1px solid #ccc;
        border-radius: 6px;
        padding: 4px 10px;
        cursor: pointer;
      }

      .pagination button.active {
        background: #c20000;
        color: #fff;
        border-color: #c20000;
      }

      .pagination button:hover {
        background: #fbeaea;
      }
    </style>
  </head>

  <body>
    <div class="sidebar">
      <div>
        <div class="logo">
          <img src="../image/pitcar.png" alt="Pitcar Logo" class="full-logo" />
          <img
            src="../image/logopitcar.png"
            alt="Pitcar Small Logo"
            class="small-logo" />
        </div>
        <div class="menu">
          <ul>
            <li>
              <img src="../image/ikonhome.png" alt="Dashboard Icon" /><span
                >Dashboard</span
              >
            </li>
            <li>
              <img src="../image/ikonreviews.png" alt="Reviews Icon" /><span
                >Reviews</span
              >
            </li>
            <li>
              <img src="../image/ikonsurvey.png" alt="Survey Icon" /><span
                >Survey</span
              >
            </li>
            <li class="active">
              <img
                src="../image/ikonremindersH+3.png"
                alt="Reminder H+3 Icon" /><span>Reminder H+3</span>
            </li>
            <li>
              <img src="../image/ikonreminders.png" alt="Reminders Icon" /><span
                >Reminders</span
              >
              <span style="color: green; font-weight: 600; margin-left: 4px"
                >New</span
              >
            </li>
          </ul>
        </div>
      </div>

      <div class="user-section">
        <img src="../image/ikonuser.png" alt="User Icon" />
        <div class="user-info">
          <div class="name">Pitcar Service</div>
          <div>User</div>
        </div>
      </div>
    </div>

    <div class="main">
      <div class="header">
        <h2>Dashboard Reminder H+3</h2>
        <p class="subtext">Follow up pelanggan setelah 3 hari servis</p>
      </div>

      <div class="stats">
        <div class="card">
          <h3>Pending Reminder</h3>
          <p>7 order</p>
        </div>
        <div class="card">
          <h3>Total Reminder Sent</h3>
          <p>3644 reminders</p>
        </div>
        <div class="card">
          <h3>Feedback Received</h3>
          <p>366 responses</p>
        </div>
        <div class="card">
          <h3>Response Rate</h3>
          <p>10.56%</p>
        </div>
      </div>

      <!-- New Header Section -->
      <div class="followup-header">Follow Up Hari Ini</div>

      <div class="followup">
        Sudah tidak ada reminder hari ini<br />
        Semua pelanggan sudah dikirimkan
      </div>

      <div class="table-section">
        <h3>Service History & Reminder Status</h3>
        <div class="filters">
          <div class="filter-group">
            <label for="searchCustomer">Cari Pelanggan</label>
            <input
              type="text"
              id="searchCustomer"
              placeholder="Order/Customer atau Plat" />
          </div>
          <div class="filter-group">
            <label for="rangeTanggal">Range Tanggal</label>
            <select id="rangeTanggal">
              <option>Semua Waktu</option>
              <option>Hari Ini</option>
              <option>Minggu Ini</option>
              <option>Tahun Ini</option>
              <option>Custom Range</option>
            </select>
          </div>
          <div class="custom-date-range" id="customDateRange">
            <div class="filter-group">
              <label for="tanggalAwal">Tanggal Awal</label>
              <input type="date" id="tanggalAwal" />
            </div>
            <div class="filter-group">
              <label for="tanggalAkhir">Tanggal Akhir</label>
              <input type="date" id="tanggalAkhir" />
            </div>
          </div>
          <div class="filter-group">
            <label for="statusReminder">Status Reminder</label>
            <select id="statusReminder">
              <option>Semua Status</option>
              <option>Belum Di Reminder</option>
              <option>Sudah Direminder</option>
              <option>Sudah Feedback</option>
            </select>
          </div>
        </div>

        <div class="table-container">
          <table id="reminderTable">
            <thead>
              <tr>
                <th>Order No</th>
                <th>Customer</th>
                <th>Plat No</th>
                <th>Service Advisor</th>
                <th>Status Reminder</th>
                <th>Feedback</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="tableBody">
              <!-- Dummy data will be populated by JavaScript -->
            </tbody>
          </table>
        </div>

        <div class="pagination">
          <span>10 / Page</span>
          <span>Showing 1-10 of 7291</span>
          <button>First</button>
          <button class="active">1</button>
          <button>2</button>
          <button>3</button>
          <button>4</button>
          <button>5</button>
          <button>Last</button>
        </div>
      </div>
    </div>
    <script>
      // Dummy data with diverse statuses and dates
      const dummyData = [
        {
          orderNo: "S17154",
          customer: "Bu Wiwin Sutarmaji Sumbayak",
          phone: "0819877777",
          platNo: "AA1568PR",
          serviceAdvisor: "Rizqo Rusli Erdiantoro",
          statusReminder: "Belum Di Reminder",
          feedback: "Belum ada feedback",
          serviceDate: "2025-11-11",
        },
        {
          orderNo: "S17155",
          customer: "Bu Sari Dewi Ratna",
          phone: "0823456789",
          platNo: "B1234CD",
          serviceAdvisor: "Ahmad Rahman",
          statusReminder: "Sudah Direminder",
          feedback: "Belum ada feedback",
          serviceDate: "2025-11-11",
        },
        {
          orderNo: "S17156",
          customer: "Pak Budi Santoso",
          phone: "0834567890",
          platNo: "D5678EF",
          serviceAdvisor: "Maya Sari",
          statusReminder: "Sudah Feedback",
          feedback: "Pelayanan bagus, terima kasih",
          serviceDate: "2025-11-11",
        },
        {
          orderNo: "S17157",
          customer: "Ibu Rina Kartika",
          phone: "0845678901",
          platNo: "F9012GH",
          serviceAdvisor: "Denny Kusuma",
          statusReminder: "Belum Di Reminder",
          feedback: "Belum ada feedback",
          serviceDate: "2025-11-04",
        },
        {
          orderNo: "S17158",
          customer: "Pak Joko Widodo",
          phone: "0856789012",
          platNo: "H3456IJ",
          serviceAdvisor: "Siti Nurhaliza",
          statusReminder: "Sudah Direminder",
          feedback: "Belum ada feedback",
          serviceDate: "2025-11-05",
        },
        {
          orderNo: "S17159",
          customer: "Bu Maya Sari",
          phone: "0867890123",
          platNo: "J7890KL",
          serviceAdvisor: "Rizqo Rusli Erdiantoro",
          statusReminder: "Sudah Feedback",
          feedback: "Servis cepat dan memuaskan",
          serviceDate: "2025-11-06",
        },
        {
          orderNo: "S17160",
          customer: "Pak Ahmad Rahman",
          phone: "0878901234",
          platNo: "L1234MN",
          serviceAdvisor: "Ahmad Rahman",
          statusReminder: "Belum Di Reminder",
          feedback: "Belum ada feedback",
          serviceDate: "2025-11-01",
        },
        {
          orderNo: "S17161",
          customer: "Ibu Siti Nurhaliza",
          phone: "0889012345",
          platNo: "N5678OP",
          serviceAdvisor: "Maya Sari",
          statusReminder: "Sudah Direminder",
          feedback: "Belum ada feedback",
          serviceDate: "2025-11-08",
        },
        {
          orderNo: "S17162",
          customer: "Pak Denny Kusuma",
          phone: "0890123456",
          platNo: "P9012QR",
          serviceAdvisor: "Denny Kusuma",
          statusReminder: "Sudah Feedback",
          feedback: "Mekanik sangat profesional",
          serviceDate: "2025-11-09",
        },
        {
          orderNo: "S17163",
          customer: "Bu Linda Putri",
          phone: "0811234567",
          platNo: "R3456ST",
          serviceAdvisor: "Siti Nurhaliza",
          statusReminder: "Belum Di Reminder",
          feedback: "Belum ada feedback",
          serviceDate: "2025-11-10",
        },
        {
          orderNo: "S17164",
          customer: "Pak Eko Prasetyo",
          phone: "0822345678",
          platNo: "T7890UV",
          serviceAdvisor: "Rizqo Rusli Erdiantoro",
          statusReminder: "Sudah Direminder",
          feedback: "Belum ada feedback",
          serviceDate: "2025-10-15",
        },
        {
          orderNo: "S17165",
          customer: "Ibu Ani Suryani",
          phone: "0833456789",
          platNo: "V1234WX",
          serviceAdvisor: "Ahmad Rahman",
          statusReminder: "Sudah Feedback",
          feedback: "Harga terjangkau dan kualitas baik",
          serviceDate: "2025-10-20",
        },
        {
          orderNo: "S17166",
          customer: "Pak Hendro Wicaksono",
          phone: "0844567890",
          platNo: "X5678YZ",
          serviceAdvisor: "Maya Sari",
          statusReminder: "Belum Di Reminder",
          feedback: "Belum ada feedback",
          serviceDate: "2025-10-25",
        },
        {
          orderNo: "S17167",
          customer: "Bu Ratih Permata",
          phone: "0855678901",
          platNo: "Z9012AA",
          serviceAdvisor: "Denny Kusuma",
          statusReminder: "Sudah Direminder",
          feedback: "Belum ada feedback",
          serviceDate: "2025-09-15",
        },
        {
          orderNo: "S17168",
          customer: "Pak Yoga Pratama",
          phone: "0866789012",
          platNo: "AB3456CD",
          serviceAdvisor: "Siti Nurhaliza",
          statusReminder: "Sudah Feedback",
          feedback: "Pelayanan sangat memuaskan",
          serviceDate: "2025-09-20",
        },
      ];

      let filteredData = [...dummyData];
      let currentPage = 1;
      const itemsPerPage = 10;

      function renderTable(data, page = 1) {
        const tbody = document.getElementById("tableBody");
        tbody.innerHTML = "";

        const startIndex = (page - 1) * itemsPerPage;
        const endIndex = startIndex + itemsPerPage;
        const pageData = data.slice(startIndex, endIndex);

        pageData.forEach((item) => {
          const row = document.createElement("tr");
          row.innerHTML = `
                    <td>${item.orderNo}</td>
                    <td>${item.customer}<br /><small>${item.phone}</small></td>
                    <td>${item.platNo}</td>
                    <td>${item.serviceAdvisor}</td>
                    <td style="text-align: left;"><span class="status-badge" style="text-align: left; display: inline-block;">${item.statusReminder}</span></td>
                    <td>${item.feedback}</td>
                    <td><a href="#">Kirim\nReminder</a></td>
                `;
          tbody.appendChild(row);
        });

        renderPagination(data.length, page);
      }

      function renderPagination(totalItems, currentPage) {
        const totalPages = Math.ceil(totalItems / itemsPerPage);
        const paginationDiv = document.querySelector(".pagination");

        let paginationHTML = `
                <span>${itemsPerPage} / Page</span>
                <span>Showing ${
                  (currentPage - 1) * itemsPerPage + 1
                }-${Math.min(
          currentPage * itemsPerPage,
          totalItems
        )} of ${totalItems}</span>
            `;

        if (totalPages > 1) {
          paginationHTML += '<button onclick="goToPage(1)">First</button>';

          for (
            let i = Math.max(1, currentPage - 2);
            i <= Math.min(totalPages, currentPage + 2);
            i++
          ) {
            paginationHTML += `<button class="${
              i === currentPage ? "active" : ""
            }" onclick="goToPage(${i})">${i}</button>`;
          }

          paginationHTML += `<button onclick="goToPage(${totalPages})">Last</button>`;
        }

        paginationDiv.innerHTML = paginationHTML;
      }

      function goToPage(page) {
        currentPage = page;
        renderTable(filteredData, currentPage);
      }

      function filterData() {
        const searchTerm = document
          .getElementById("searchCustomer")
          .value.toLowerCase();
        const statusFilter = document.getElementById("statusReminder").value;
        const dateFilter = document.getElementById("rangeTanggal").value;
        const startDate = document.getElementById("tanggalAwal").value;
        const endDate = document.getElementById("tanggalAkhir").value;

        filteredData = dummyData.filter((item) => {
          // Search filter
          const matchesSearch =
            !searchTerm ||
            item.orderNo.toLowerCase().includes(searchTerm) ||
            item.customer.toLowerCase().includes(searchTerm) ||
            item.platNo.toLowerCase().includes(searchTerm);

          // Status filter
          const matchesStatus =
            statusFilter === "Semua Status" ||
            item.statusReminder === statusFilter;

          // Date filter
          let matchesDate = true;
          const serviceDate = new Date(item.serviceDate);
          const today = new Date();

          if (dateFilter === "Hari Ini") {
            matchesDate = serviceDate.toDateString() === today.toDateString();
          } else if (dateFilter === "Minggu Ini") {
            const weekStart = new Date(today);
            weekStart.setDate(today.getDate() - today.getDay());
            const weekEnd = new Date(weekStart);
            weekEnd.setDate(weekStart.getDate() + 6);
            matchesDate = serviceDate >= weekStart && serviceDate <= weekEnd;
          } else if (dateFilter === "Tahun Ini") {
            matchesDate = serviceDate.getFullYear() === today.getFullYear();
          } else if (dateFilter === "Custom Range" && startDate && endDate) {
            const start = new Date(startDate);
            const end = new Date(endDate);
            matchesDate = serviceDate >= start && serviceDate <= end;
          }

          return matchesSearch && matchesStatus && matchesDate;
        });

        currentPage = 1; // Reset to first page when filtering
        renderTable(filteredData, currentPage);
      }

      document.addEventListener("DOMContentLoaded", function () {
        // Initialize table
        renderTable(dummyData, 1);

        // Custom date range toggle
        document
          .getElementById("rangeTanggal")
          .addEventListener("change", function () {
            const customDateRange = document.getElementById("customDateRange");
            if (this.value === "Custom Range") {
              customDateRange.style.display = "flex";
            } else {
              customDateRange.style.display = "none";
            }
            filterData();
          });

        // Event listeners for filters
        document
          .getElementById("searchCustomer")
          .addEventListener("input", filterData);
        document
          .getElementById("statusReminder")
          .addEventListener("change", filterData);
        document
          .getElementById("tanggalAwal")
          .addEventListener("change", filterData);
        document
          .getElementById("tanggalAkhir")
          .addEventListener("change", filterData);
      });
    </script>
  </body>
</html>
